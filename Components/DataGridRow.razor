@namespace Gizmo.Web.Components
@inherits Gizmo.Web.Components.CustomDOMComponentBase

@typeparam TItemType

<tr class="@Class @ClassName"
    style="@CustomStyle"
    @key="Item.GetHashCode()"
    @onclick="@(async (e) => await OnClickEvent(e, Item))"
    @ondblclick="@(async (e) => await OnDoubleClickEvent(e, Item))"
    @onclick:stopPropagation="true"
    @oncontextmenu:preventDefault="true"
    @oncontextmenu="ContextMenuHandler"
    >

    @if (IsSelectable && (Parent.ShowCheckBoxes || !Parent.SelectOnClick))
    {
        <td class="giz-data-grid-check">
            <CheckBox IsChecked="@_isSelected" IsCheckedChanged="@IsCheckedChangedHandler" IsReadOnly="@Parent.SelectOnClick" />
        </td>
    }

    @foreach (var column in Columns)
    {
        if (column.IsVisible && column.CellTemplate != null)
        {
            <DataGridCell TItemType="@TItemType" Column="column" Item="@Item" IsEditMode="@_isEditMode" />
        }
    }
</tr>

@if (IsDropdown)
{
    <DataGridDetailTemplate Columns="@(Columns.Count())">
        @Parent.DetailTemplate(Item)
    </DataGridDetailTemplate>
}