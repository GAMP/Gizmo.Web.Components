@namespace Gizmo.Web.Components
@inherits CustomDOMComponentBase

@if (OpenDirection != PopupOpenDirections.Cursor)
{
    <div class="@Class @ClassName"
         style="@StyleValue @Style"
         @ref="@Ref"
         @onclick="OnClickInsidePopup"
         @onfocusout="OnFocusOutHandler"
         tabindex="-1">
        @ChildContent
    </div>

    <Overlay Visible="@IsOpen"
             OnMouseDown="@OnMouseDownOutsidePopupHandler"
             OnMouseUp="@OnMouseUpOutsidePopupHandler">
    </Overlay>
}
else
{
    <div class="@PopupWrapperClassName"
         style="@PopupWrapperStyleValue">
        <div class="giz-popup-overlay"
             @onmousedown="@OnMouseDownOutsidePopupHandler"
             @onmousedown:stopPropagation="true"
             @onmouseup="@OnMouseUpOutsidePopupHandler"
             @onmouseup:stopPropagation="true"></div>
        <div class="@Class @ClassName"
             style="@StyleValue @Style"
             @ref="@Ref"
             @onclick="OnClickInsidePopup"
             @onclick:stopPropagation="true"
             @onfocusout="OnFocusOutHandler"
             tabindex="-1">
            @ChildContent
        </div>
    </div>
}