@namespace Gizmo.Web.Components
@inherits GizInputBase<string>

<GizInput Class="@ClassName"
          Style="@Style"
          Label="@Label"
          ValidationErrorStyle="@ValidationErrorStyle"
          IsReadOnly="@IsReadOnly"
          IsDisabled="@IsDisabled"
          IsFullWidth="@IsFullWidth"
          Width="@Width"
          HasOutline="@HasOutline"
          HasShadow="@HasShadow"
          IsTransparent="@IsTransparent"
          Size="@Size"
          IsValid="@IsValid"
          ValidationMessage="@ValidationMessage"
          OnRootClick="@OnRootClickHandler">
    <div class="giz-input-wrapper">
        @if(!string.IsNullOrEmpty(PlaceholderLabel))
        {
            <label class="@PlaceholderClassName">@PlaceholderLabel</label>
        }
        <input id="@Id"
               @ref="_inputElement"
               type="@(IsPasswordVisible ? "text" : "password")"
               value="@_text"
               readonly="@IsReadOnly"
               disabled="@IsDisabled"
               placeholder="@Placeholder"
               @oninput="OnInputHandler"
               @onkeydown="OnInputKeyDownHandler"
               @onkeydown:preventDefault="@_hasValidateFunction"
               @onkeyup="OnInputKeyUpHandler"
               @onkeyup:preventDefault="@_hasValidateFunction"
               @onkeypress="OnInputKeyPressHandler"
               @onkeypress:preventDefault="@_hasValidateFunction"
               @onchange="OnChangeHandler"
               @onclick="OnClickHandler"
               @attributes="Attributes"
               @ondrop="OnDropHandler"
               @ondrop:preventDefault="@DisableDrop" />
    </div>
    @if (ShowRevealButton)
    {
        @if (CanFocusRevealButton)
        {
            <IconButton SVGIcon="@(IsPasswordVisible ? Icons.EyeClose_Client : Icons.EyeOpen_Client)" Class="giz-input-button-reveal" @onclick="OnClickButtonEyeHandler" />
        }
        else
        {
            <Icon SVGIcon="@(IsPasswordVisible ? Icons.EyeClose_Client : Icons.EyeOpen_Client)" Class="giz-input-button-reveal" @onclick="OnClickButtonEyeHandler" />
        }
    }
</GizInput>